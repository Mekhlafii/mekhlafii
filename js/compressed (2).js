!function(e,f){"use strict";e.grained=function(e,t){var n=null,i=null;if("string"==typeof e&&(n=f.getElementById(e.split("#")[1])),n){i=n.id,"absolute"!==n.style.position&&(n.style.position="relative"),n.style.overflow="hidden";var a=["","-moz-","-o-animation-","-webkit-","-ms-"],r={animate:!0,patternWidth:100,patternHeight:100,grainOpacity:.1,grainDensity:1,grainWidth:1,grainHeight:1,grainChaos:.5,grainSpeed:20};Object.keys(t).forEach(function(e){r[e]=t[e]});for(var o=function(){var e=f.createElement("canvas"),t=e.getContext("2d");e.width=r.patternWidth,e.height=r.patternHeight;for(var n=0;n<r.patternWidth;n+=r.grainDensity)for(var i=0;i<r.patternHeight;i+=r.grainDensity){var a=256*Math.random()|0;t.fillStyle="rgba("+[a,a,a,r.grainOpacity].join()+")",t.fillRect(n,i,r.grainWidth,r.grainHeight)}return e.toDataURL("image/png")}(),d="",l=["0%:-10%,10%","10%:-25%,0%","20%:-30%,10%","30%:-30%,30%","40%::-20%,20%","50%:-15%,10%","60%:-20%,20%","70%:-5%,20%","80%:-25%,5%","90%:-30%,25%","100%:-10%,10%"],g=a.length;g--;){d+="@"+a[g]+"keyframes grained{";for(var s=0;s<l.length;s++){var h=l[s].split(":");d+=h[0]+"{",d+=a[g]+"transform:translate("+h[1]+");",d+="}"}d+="}"}var m=f.getElementById("grained-animation");m&&m.parentElement.removeChild(m);n=f.createElement("style");n.type="text/css",n.id="grained-animation",n.innerHTML=d,f.body.appendChild(n);m=f.getElementById("grained-animation-"+i);m&&m.parentElement.removeChild(m),(n=f.createElement("style")).type="text/css",n.id="grained-animation-"+i,f.body.appendChild(n);var p,c="background-image: url("+o+");";if(c+='position: absolute;content: "";height: 300%;width: 300%;left: -100%;top: -100%;',g=a.length,r.animate)for(;g--;)c+=a[g]+"animation-name:grained;",c+=a[g]+"animation-iteration-count: infinite;",c+=a[g]+"animation-duration: "+r.grainChaos+"s;",c+=a[g]+"animation-timing-function: steps("+r.grainSpeed+", end);";m="#"+i+"::before",o=n.sheet,i=c,n="",n=(m=m).length?m+"{"+i+"}":i,"insertRule"in o?o.insertRule(n,p):"addRule"in o&&o.addRule(m,i,p)}else console.error("Grained: cannot find the element with id "+e)}}(window,document);